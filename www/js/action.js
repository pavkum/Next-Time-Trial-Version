var action=function(){var t=function(){var t="1.0.0",n=window.location.hash,o=[],e=[],r="click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste",c=function(t,n){for(var i=t.split(" "),o=0;o<i.length;o++)n(i[o])},a=function(t){t=t?t:document,c(r,function(n){var i=t.querySelectorAll("[action-"+n+"]");if(i)for(var o=0;o<i.length;o++){var e=i[o];e.addEventListener(n,function(t){v(t.target.getAttribute("action-"+n),t)})}})},s={async_wait:!1,priority:5,action:function(){},dependencies:""},u=function(t,n){for(var i in t){var o=n[i];o||(n[i]=t[i])}return n},f=function(t,n){n=u(s,n);var i=o[t];i||(i={},i.actions={},i.priorities=[],o[t]=i),-1===i.priorities.indexOf(n.priority)&&(i.priorities.push(n.priority),i.actions[n.priority]=[],i.priorities.sort());var e=i.actions[n.priority],r={};r.async_wait=n.async_wait,r.action=n.action,r.dependencies=n.dependencies,e.push(r)},h=function(t){this.name=t};h.prototype.set=function(t,n){t&&(this[t]=n)},h.prototype.get=function(t){return this[t]};var l=1,p=-1,y=function(t){this.callback=t};y.prototype.resolve=function(){this.callback.call(l)},y.prototype.error=function(){this.callback.call(p)};var v=function(t,n){var i=o[t];if(i){var e=[];n&&e.push(n),e.push(new h(t)),d(i,i.priorities,e,0)}},d=function(t,n,i,o){if(!(o>=n.length)){var e=n[o],r=t.actions[e],e=new m(r,i);e.onDone(function(){d(t,n,i,o+1)}),e.onTerminate(function(){}),e.executeActions()}},m=function(t,n){this.prioritizedActions=t,this.actionArguments=n,this.asyncWaitQueue=0,this.asyncWaitCallback=function(t){this.asyncWaitQueue=this.asyncWaitQueue-1,t===l?0==this.asyncWaitQueue&&this.done():t===p&&this.terminate()},this.done=function(){this.onDoneFunctionRef.call(null)},this.terminate=function(){this.onTerminateFunctionRef.call(null)}};m.prototype.onDone=function(t){this.onDoneFunctionRef=t},m.prototype.onTerminate=function(t){this.onTerminateFunctionRef=t},m.prototype.executeActions=function(){for(var t=0;t<this.prioritizedActions.length;t++){var n=this.prioritizedActions[t];if(n.async_wait===!0){var i=new y(this.asyncWaitCallback);this.asyncWaitQueue=this.asyncWaitQueue+1,this.actionArguments.push(i)}n.action.apply(null,this.actionArguments)||this.terminate()}0===this.asyncWaitQueue&&this.done()};var w=function(t){for(i in t)e[i]=t[i]},g=function(t,n){e[t]&&(window.location.hash=t,v(e[t],n),a())};return window.onload=function(){if(n){var t=n.substr(1,n.length);e[t]&&v(e[t])}a()},{router:function(t){w(t)},on:function(t,n){f(t,n)},version:function(){return t},trigger:function(t,n){v(t,n)},navigate:function(t,n){g(t,n)}}},n=t(),i=n;return i.noConflict=function(){return n},i}();